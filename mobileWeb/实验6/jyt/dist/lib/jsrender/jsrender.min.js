!function(a){var c=eval("this").jQuery;"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=c?a(c):function(e){if(e&&!e.fn)throw"Provide jQuery or null";return a(e)}:a(!1)}(function(l){"use strict";var a=(0,eval)("this"),e=!1===l;l=l&&l.fn?l:a.jQuery;var t,r,p,M,$,d,y,N,E,s,U,u,J,v,n="v1.0.0-beta",i="{",q="{",B="}",o="}",c="^",L=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,f=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^\(\[])|[)\]])([([]?))|(\s+)/g,K=/[ \t]*(\r\n|\n|\r)/g,O=/\\(['"])/g,g=/['"\\]/g,I=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Q=/^if\s/,h=/<(\w+)[>\s]/,m=/[\x00`><\"'&]/,H=/^on[A-Z]|^convert(Back)?$/,w=/[\x00`><"'&]/g,b=0,x={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},D="html",_="object",k="data-jsv-tmpl",j="jsvTmpl",C="For #index in nested block use #getIndex().",A={},T=a.jsrender,R=T&&l&&!l.render,V={template:{compile:function r(i,e,a,s){function t(e){var t,n;if(""+e===e||0<e.nodeType&&(o=e)){if(!o)if(/^\.\/[^\\:*?"<>]*$/.test(e))(n=N[i=i||e])?e=n:o=document.getElementById(e);else if(l.fn&&!p.test(e))try{o=l(document).find(e)[0]}catch(e){}o&&(s?e=o.innerHTML:((t=o.getAttribute(k))?t!==j?(e=N[t],delete N[t]):l.fn&&(e=l.data(o)[j]):(i=i||(l.fn?j:e),e=r(i,o.innerHTML,a,s)),e.tmplName=i=i||t,i!==j&&(N[i]=e),o.setAttribute(k,i),l.fn&&l.data(o,j,e))),o=void 0}else e.fn||(e=void 0);return e}var o,n,d=e=e||"";0===s&&(s=void 0,d=t(d));s=s||(e.markup?e:{});s.tmplName=i;a&&(s._parentTmpl=a);!d&&e.markup&&(d=t(e.markup))&&d.fn&&(d=d.markup);if(void 0!==d)return d.fn||e.fn?d.fn&&(n=d):(e=ae(d,s),pe(d.replace(g,"\\$&"),e)),n||(re(s),n=X(function(){return e.render.apply(e,arguments)},e)),i&&!a&&i!==j&&(A[i]=n),n}},tag:{compile:function(e,t,n){var r,i,a,s=new u._tg;function o(){this._={inline:!0,unlinked:!0},this.tagName=e}d(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t});if(i=t.baseTag)for(a in t.flow=!!t.flow,t.baseTag=i=""+i===i?n&&n.tags[i]||U[i]:i,s=X(s,i),t)s[a]=S(i[a],t[a]);else s=X(s,t);void 0!==(r=s.template)&&(s.template=""+r===r?N[r]||N(r):r);!1!==s.init&&((o.prototype=s).constructor=s._ctr=o);n&&(s._parentTmpl=n);return s}},helper:{},converter:{}};function F(n,r){return function(){var e,t=this.base;return this.base=n,e=r.apply(this,arguments),this.base=t,e}}function S(e,t){return d(t)&&((t=F(e?e._d?e:F(z,e):z,t))._d=1),t}function P(e,t){for(var n in t.props)H.test(n)&&(e[n]=S(e[n],t.props[n]))}function Z(e){return e}function z(){return""}function G(e){J._dbgMode=!1!==e}function W(e){this.name=(l.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function X(e,t){var n;for(n in t)e[n]=t[n];return e}function Y(e,t,n){return 0===this&&!e||(i=e?e.charAt(0):i,q=e?e.charAt(1):q,B=t?t.charAt(0):B,o=t?t.charAt(1):o,e="\\"+i+"(\\"+(c=n||c)+")?\\"+q,t="\\"+B+"\\"+o,r="(?:(?:(\\w+(?=[\\/\\s\\"+B+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+B+"]|\\"+B+"(?!\\"+o+"))*?)",u.rTag=r+")",r=new RegExp(e+r+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),p=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)),[i,q,B,o,c]}function ee(){var e=this.get("item");return e?e.index:void 0}function te(){return this.index}function ne(e,t,n,r,i,a,s,o){var d,l,p,u,c=this,f="array"===t;c.content=s,c.views=f?[]:{},c.parent=n,c.type=t||"top",c.data=r,c.tmpl=i,u=c._={key:0,useKey:f?0:1,id:""+b++,onRender:o,bnds:{}},c.linked=!!o,n?(d=n.views,(l=n._).useKey?((d[u.key="_"+l.useKey++]=c).index=C,c.getIndex=ee,p=l.tag,u.bnd=f&&(!p||!!p._.bnd&&p)):d.length===(u.key=c.index=a)?d.push(c):d.splice(a,0,c),c.ctx=e||n.ctx):c.ctx=e}function re(e){var t,n,r,i,a,s;for(t in V)if((a=V[t].compile)&&(n=e[t+"s"]))for(r in n)(i=n[r]=a(r,n[r],e,0))._is=t,i&&(s=u.onStore[t])&&s(r,i,a)}function ie(n){function r(e,t){this.tgt=n.getTgt(e,t)}return d(n)&&(n={getTgt:n}),n.baseMap&&(n=X(X({},n.baseMap),n)),n.map=function(e,t){return new r(e,t)},n}function ae(e,t){var n,r=J.wrapMap||{},i=X({tmpls:[],links:{},bnds:[],_is:"template",render:oe},t);return i.markup=e,t.htmlTag||(n=h.exec(e),i.htmlTag=n?n[1].toLowerCase():""),(n=r[i.htmlTag])&&n!==r.div&&(i.markup=l.trim(i.markup)),i}function se(d,l){var p=d+"s";$[p]=function e(t,n,r){var i,a,s,o;if(!t||typeof t!==_||t.nodeType||t.markup||t.getTgt)return void 0===n&&(n=t,t=void 0),t&&""+t!==t&&(r=n,n=t,t=void 0),o=r?r[p]=r[p]||{}:e,a=l.compile,null===n?t&&delete o[t]:(n=a?a(t,n,r,0):n,t&&(o[t]=n)),a&&n&&(n._is=d),n&&(i=u.onStore[d])&&i(t,n,a),n;for(s in t)e(s,t[s],n);return $}}function oe(e,t,n,r,i,a){var s,o,d,l,p,u,c,f=r,g="";if(!0===t?(n=t,t=void 0):typeof t!==_&&(t=void 0),(d=this.tag)?(l=d._.tmpl||this.tmpl,f=f||this.view,arguments.length||(e=f)):l=this,l){if(!f&&e&&"view"===e._is&&(f=e),f&&e===f&&(e=f.data),l.fn||(l=d._.tmpl=N[l]||N(l)),p=!f,v=v||p,f||((t=t||{}).root=e),!v||J.useViews||l.useViews||f&&f!==M)g=function(e,t,n,r,i,a,s,o){function d(e){(b=X({},n))[w]=e}var l,p,u,c,f,g,v,h,m,w,b,x,_="";o&&(m=o.tagName,x=o.tagCtx,n=n?he(n,o.ctx):o.ctx,v=x.content,!1===x.props.link&&((n=n||{}).link=!1),(w=x.props.itemVar)&&("~"!==w.charAt(0)&&le("Use itemVar='~myItem'"),w=w.slice(1)));i&&(v=v||i.content,s=s||i._.onRender,n=he(n,i.ctx));!0===a&&(g=!0,a=0);s&&(n&&!1===n.link||o&&o._.noVws)&&(s=void 0);!0===(h=s)&&(h=void 0,s=i._.onRender);if(n=e.helpers?he(e.helpers,n):n,b=n,y(t)&&!r)for(u=g?i:void 0!==a&&i||new ne(n,"array",i,t,e,a,v,s),w&&(u.it=w),w=u.it,l=0,p=t.length;l<p;l++)w&&d(t[l]),c=new ne(b,"item",u,t[l],e,(a||0)+l,v,s),f=e.fn(t[l],c,$),_+=u._.onRender?u._.onRender(f,c):f;else w&&d(t),u=g?i:new ne(b,m||"data",i,t,e,a,v,s),o&&!o.flow&&(u.tag=o),_+=e.fn(t,u,$);return h?h(_,u):_}(l,e,t,n,f,i,a,d);else{if(f?(u=f.data,c=f.index,f.index=C):((f=M).data=e,f.ctx=t),y(e)&&!n)for(s=0,o=e.length;s<o;s++)f.index=s,f.data=e[s],g+=l.fn(e[s],f,$);else g+=l.fn(e,f,$);f.data=u,f.index=c}p&&(v=void 0)}return g}function de(e,t,n){var r=J.onError(e,t,n);if(""+e===e)throw new u.Err(r);return!t.linkCtx&&t.linked?E.html(r):r}function le(e){de("Syntax error\n"+e)}function pe(y,k,j,C,A){function T(e){(e-=N)&&F.push(y.substr(N,e).replace(K,"\\n"))}function R(e,t){e&&(e+="}}",le((t?"{{"+t+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+y))}var e,V,M,$=J.allowCode||k&&k.allowCode,t=[],N=0,E=[],F=t,S=[,,t];return $&&(k.allowCode=$),j&&(y=i+y+o),R(E[0]&&E[0][2].pop()[0]),y.replace(r,function(e,t,n,r,i,a,s,o,d,l,p,u){a&&(i=":",r=D);var c=(t||j)&&[[]],f="",g="",v="",h="",m="",w="",b="",x="",_=!(l=l||j&&!A)&&!i&&!s;n=n||(d=d||"#data",i),T(u),N=u+e.length,o?$&&F.push(["*","\n"+d.replace(/^:/,"ret+= ").replace(O,"$1")+";\n"]):n?("else"===n&&(Q.test(d)&&le('for "{{else if expr}}" use "{{else expr}}"'),c=S[7]&&[[]],S[8]=y.substring(S[8],u),S=E.pop(),F=S[2],_=!0),d&&ge(d.replace(K," "),c,k).replace(I,function(e,t,n,r,i,a,s,o){return r="'"+i+"':",s?(g+=a+",",h+="'"+o+"',"):n?(v+=r+a+",",w+=r+"'"+o+"',"):t?b+=a:("trigger"===i&&(x+=a),f+=r+a+",",m+=r+"'"+o+"',",M=M||H.test(i)),""}).slice(0,-1),c&&c[0]&&c.pop(),V=[n,r||!!C||M||"",_&&[],ce(h,m,w),ce(g,f,v),b,x,c||0],F.push(V),_&&(E.push(S),(S=V)[8]=N)):p&&(R(p!==S[0]&&"else"!==S[0]&&p,S[0]),S[8]=y.substring(S[8],u),S=E.pop()),R(!S&&p),F=S[2]}),T(y.length),(N=t[t.length-1])&&R(""+N!==N&&+N[8]===N[8]&&N[0]),j?ue(e=ve(t,y,j),[t[0][7]]):e=ve(t,k),e}function ue(e,t){var n,r,i=0,a=t.length;for(e.deps=[];i<a;i++)for(n in r=t[i])"_jsvto"!==n&&r[n].length&&(e.deps=e.deps.concat(r[n]));e.paths=r}function ce(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function fe(e,t){return"\n\t"+(t?t+":{":"")+"args:["+e[0]+"]"+(e[1]||!t?",\n\tprops:{"+e[1]+"}":"")+(e[2]?",\n\tctx:{"+e[2]+"}":"")}function ge(C,A,T){var R,V,M,$,N,E=A&&A[0],F={bd:E},S={0:F},I=0,U=T?T.links:E&&(E.links=E.links||{}),J=0,K={},O={},e=(C+(T?" ":"")).replace(f,function(e,t,n,r,l,i,a,s,o,d,p,u,c,f,g,v,h,m,w,b){var x,_,y,k,j;if((r=E&&r)&&!s&&(l=r+l),i=i||"",n=n||t||u,l=l||o,d=d||h||"",!a||N||$){if(E&&v&&!N&&!$&&(!R||M||V)&&(x=O[J-1],b.length-1>w-(x||0))){if(x=b.slice(x,w+e.length),!0!==_)if(y=V||S[J-1].bd,(k=y[y.length-1])&&k.prm){for(;k.sb&&k.sb.prm;)k=k.sb;j=k.sb={path:k.sb,bnd:k.bnd}}else y.push(j={path:y.pop()});(_=U[v=q+":"+x+" onerror=''"+B])||(U[v]=!0,U[v]=_=pe(v,T,!0)),!0!==_&&j&&(j._jsv=_,j.prm=F.bd,j.bnd=j.bnd||j.path&&0<=j.path.indexOf("^"))}return N?(N=!c)?e:u+'"':$?($=!f)?e:u+'"':(n?(O[J]=w++,F=S[++J]={bd:[]},n):"")+(m?J?"":(I=b.slice(I,w),(R?(R=M=V=!1,"\b"):"\b,")+I+(I=w+e.length,E&&A.push(F.bd=[]),"\b")):s?(J&&le(C),E&&A.pop(),R=l,M=r,I=w+e.length,r&&(E=F.bd=A[R]=[]),l+":"):l?l.split("^").join(".").replace(L,function(e,t,n,r,i,a,s,o){var d="."===n;if(n&&(l=l.slice(t.length),d||(e=(r?'view.hlp("'+r+'")':i?"view":"data")+(o?(a?"."+a:r||i?"":"."+n)+(s||""):(o=r?"":i?a||"":n,"")),e=t+("view.data"===(e+=o?"."+o:"").slice(0,9)?e.slice(5):e)),E)){if(y="linkTo"===R?V=A._jsvto=A._jsvto||[]:F.bd,k=d&&y[y.length-1]){if(k._jsv){for(;k.sb;)k=k.sb;k.bnd&&(l="^"+l.slice(1)),k.sb=l,k.bnd=k.bnd||"^"===l.charAt(0)}}else y.push(l);O[J]=w+(d?1:0)}return e})+(d?(F=S[++J]={bd:[]},K[J]=!0,d):i):i||(g?(K[J]=!1,F=S[--J],g+(d?(F=S[++J],K[J]=!0,d):"")):p?(K[J]||le(C),","):t?"":(N=c,$=f,'"')))}le(C)});return!J&&e||le(C)}function ve(e,t,n){var r,i,a,s,o,d,l,p,u,c,f,g,v,h,m,w,b,x,_,y,k,j,C,A,T,R,V,M,$,N=0,E=J.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,F="",S={},I=e.length;for(""+t===t?(b=n?'data-link="'+t.replace(K," ").slice(1,-1)+'"':t,t=0):(b=t.tmplName||"unnamed",t.allowCode&&(S.allowCode=!0),t.debug&&(S.debug=!0),c=t.bnds,w=t.tmpls),r=0;r<I;r++)if(""+(i=e[r])===i)F+='\n+"'+i+'"';else if("*"===(a=i[0]))F+=";\n"+i[1]+"\nret=ret";else{if(s=i[1],y=!n&&i[2],o=fe(i[3],"params")+"},"+fe(g=i[4]),V=i[5],$=i[6],k=i[8]&&i[8].replace(O,"$1"),(A="else"===a)?f&&f.push(i[7]):(N=0,c&&(f=i[7])&&(f=[f],N=c.push(1))),E=E||g[1]||g[2]||f||/view.(?!index)/.test(g[0]),(T=":"===a)?s&&(a=s===D?">":s+a):(y&&((x=ae(k,S)).tmplName=b+"/"+a,x.useViews=x.useViews||E,ve(y,x),E=x.useViews,w.push(x)),A||(_=a,E=E||a&&(!U[a]||!U[a].flow),C=F,F=""),j=(j=e[r+1])&&"else"===j[0]),M=V?";\ntry{\nret+=":"\n+",h=v="",T&&(f||$||s&&s!==D)){if(R="return {"+o+"};",m='c("'+s+'",view,',(R=new Function("data,view,j,u"," // "+b+" "+N+" "+a+"\n"+R))._er=V,v=m+N+",",h=")",R._tag=a,n)return R;ue(R,f),u=!0}if(F+=T?(n?(V?"\ntry{\n":"")+"return ":M)+(u?(E=p=!(u=void 0),m+(f?(c[N-1]=R,N):"{"+o+"}")+")"):">"===a?(l=!0,"h("+g[0]+")"):"((v="+(g[0]||"data")+')!=null?v:"")'):(d=!0,"\n{view:view,tmpl:"+(y?w.length:"0")+","+o+"},"),_&&!j){if(F="["+F.slice(0,-1)+"]",m='t("'+_+'",view,this,',n||f){if((F=new Function("data,view,j,u"," // "+b+" "+N+" "+_+"\nreturn "+F+";"))._er=V,F._tag=_,f&&ue(c[N-1]=F,f),n)return F;v=m+N+",undefined,",h=")"}F=C+M+m+(N||F)+")",_=f=0}V&&(E=!0,F+=";\n}catch(e){ret"+(n?"urn ":"+=")+v+"j._err(e,view,"+V+")"+h+";}\n"+(n?"":"ret=ret"))}F="// "+b+"\nvar v"+(d?",t=j._tag":"")+(p?",c=j._cnvt":"")+(l?",h=j.converters.html":"")+(n?";\n":',ret=""\n')+(S.debug?"debugger;":"")+F+(n?"\n":";\nreturn ret;"),J._dbgMode&&(F="try {\n"+F+"\n}catch(e){\nreturn j._err(e, view);\n}");try{F=new Function("data,view,j,u",F)}catch(e){le("Compiled template code:\n\n"+F+'\n: "'+e.message+'"')}return t&&(t.fn=F,t.useViews=!!E),F}function he(e,t){return e&&e!==t?t?X(X({},t),e):e:t&&X({},t)}function me(e){return x[e]||(x[e]="&#"+e.charCodeAt(0)+";")}function we(e,t,n){var r=this.jquery&&(this[0]||de('Unknown template: "'+this.selector+'"')),i=r.getAttribute(k);return oe.call(i?l.data(r)[j]:N(r),e,t,n)}function be(e){return null!=e?m.test(e)&&(""+e).replace(w,me)||e:""}if($={jsviews:n,settings:function(e){X(J,e),G(J._dbgMode),J.jsv&&J.jsv()},sub:{View:ne,Err:W,tmplFn:pe,parse:ge,extend:X,extendCtx:he,syntaxErr:le,onStore:{},_ths:P,_tg:function(){}},map:ie,_cnvt:function(e,t,n,r){var i,a,s="number"==typeof n&&t.tmpl.bnds[n-1],o=t.linkCtx;void 0!==r?n=r={props:{},args:[r]}:s&&(n=s(t.data,t,$));a=n.args[0],(e||s)&&((i=o&&o.tag)||(i=X(new u._tg,{_:{inline:!o,bnd:s,unlinked:!0},tagName:":",cvt:e,flow:!0,tagCtx:n}),o&&((o.tag=i).linkCtx=o),n.ctx=he(n.ctx,(o?o.view:t).ctx)),i._er=r&&a,P(i,n),n.view=t,i.ctx=n.ctx||{},n.ctx=void 0,t._.tag=i,a=i.cvtArgs(i.convert||"true"!==e&&e)[0],a=s&&t._.onRender?t._.onRender(a,t,s):a,t._.tag=void 0);return null!=a?a:""},_tag:function(e,t,n,r,i,a){var s,o,d,l,p,u,c,f,g,v,h,m,w,b,x,_,y,k,j,C="",A=(t=t||M).linkCtx||0,T=t.ctx,R=n||t.tmpl,V="number"==typeof r&&t.tmpl.bnds[r-1];d="tag"===e._is?(e=(s=e).tagName,r=s.tagCtxs,s.template):(o=t.getRsc("tags",e)||de("Unknown tag: {{"+e+"}} "),o.template);void 0!==a?(C+=a,r=a=[{props:{},args:[]}]):V&&(r=V(t.data,t,$));for(f=r.length,c=0;c<f;c++)v=r[c],A&&A.tag&&(!c||A.tag._.inline)&&!s._er||((m=v.tmpl)&&(m=v.content=R.tmpls[m-1]),v.index=c,v.tmpl=d||m,v.render=oe,v.view=t,v.ctx=he(v.ctx,T)),(n=v.props.tmpl)&&(n=""+n===n?t.getRsc("templates",n)||N(n):n,v.tmpl=n),s||(s=new o._ctr,w=!!s.init,s.parent=u=T&&T.tag,s.tagCtxs=r,j=s.dataMap,A&&(s._.inline=!1,(A.tag=s).linkCtx=A),(s._.bnd=V||A.fn)?s._.arrVws={}:s.dataBoundOnly&&de("{^{"+e+"}} tag must be data-bound")),r=s.tagCtxs,j=s.dataMap,v.tag=s,j&&r&&(v.map=r[c].map),s.flow||(h=v.ctx=v.ctx||{},l=s.parents=h.parentTags=T&&he(h.parentTags,T.parentTags)||{},u&&(l[u.tagName]=u),l[s.tagName]=h.tag=s);(V||A)&&(t._.tag=s);if(!(s._er=a)){for(P(s,r[0]),s.rendering={},c=0;c<f;c++)v=s.tagCtx=r[c],y=v.props,_=s.cvtArgs(),(b=y.dataMap||j)&&(_.length||y.dataMap)&&((x=v.map)&&x.src===_[0]&&!i||(x&&x.src&&x.unmap(),x=v.map=b.map(_[0],y,void 0,!s._.bnd)),_=[x.tgt]),s.ctx=v.ctx,c||(w&&(k=s.template,s.init(v,A,s.ctx),w=void 0,s.template!==k&&(s._.tmpl=s.template)),A&&(A.attr=s.attr=A.attr||s.attr),p=s.attr,s._.noVws=p&&p!==D),g=void 0,s.render&&(g=s.render.apply(s,_)),_.length||(_=[t]),void 0===g&&(g=v.render(_.length?_[0]:t,!0)||(i?void 0:"")),C=C?C+(g||""):g;s.rendering=void 0}s.tagCtx=r[0],s.ctx=s.tagCtx.ctx,!s._.noVws||s._.inline&&(C="text"===p?E.html(C):"");return V&&t._.onRender?t._.onRender(C,t,V):C},_err:de},(W.prototype=new Error).constructor=W,ee.depends=function(){return[this.get("item"),"index"]},te.depends="index",ne.prototype={get:function(e,t){t||(t=e,e=void 0);var n,r,i,a,s=this,o=!t||"root"===t;if(e){if(!(a=s.type===t?s:void 0))if(n=s.views,s._.useKey){for(r in n)if(a=n[r].get(e,t))break}else for(r=0,i=n.length;!a&&r<i;r++)a=n[r].get(e,t)}else if(o)for(;s.parent.parent;)a=s=s.parent;else for(;s&&!a;)a=s.type===t?s:void 0,s=s.parent;return a},getIndex:te,getRsc:function(e,t){for(var n,r,i=this;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[e])&&r[t],i=i.parent;return n||$[e][t]},hlp:function(e){var t,n=this,r=n.linkCtx,i=(n.ctx||{})[e];return void 0===i&&r&&r.ctx&&(i=r.ctx[e]),void 0===i&&(i=s[e]),i&&d(i)&&!i._wrp&&((t=function(){return i.apply(this&&this!==a?this:n,arguments)})._wrp=!0,X(t,i)),t||i},_is:"view"},!(T||l&&l.render)){for(t in V)se(t,V[t]);N=$.templates,E=$.converters,s=$.helpers,U=$.tags,u=$.sub,J=$.settings,u._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:function(e){var t=this,n=t.tagCtx,r=n.view,i=n.args;return e=(e=t.convert||e)&&(""+e===e?r.getRsc("converters",e)||de("Unknown converter: '"+e+"'"):e),i=i.length||n.index?e?i.slice():i:[r.data],e&&(e.depends&&(t.depends=u.getDeps(t.depends,t,e.depends,e)),i[0]=e.apply(t,i)),i}},M=u.topView=new ne,l?(l.fn.render=we,l.observable&&(X(u,l.views.sub),$.map=l.views.map)):(l={},e&&(a.jsrender=l),l.renderFile=l.__express=l.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},l.isFunction=function(e){return"function"==typeof e},l.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},u._jq=function(e){e!==l&&(X(e,l),(l=e).fn.render=we,delete l.jsrender)},l.jsrender=n),d=l.isFunction,y=l.isArray,l.render=A,l.views=$,l.templates=N=$.templates,J({debugMode:G,delimiters:Y,onError:function(e,t,n){return t&&(e=void 0===n?"{Error: "+(e.message||e)+"}":d(n)?n(e,t):n),null==e?"":e},_dbgMode:!1}),U({if:{render:function(e){var t=this.tagCtx;return this.rendering.done||!e&&(arguments.length||!t.index)?"":(this.rendering.done=!0,this.selected=t.index,t.render(t.view,!0))},flow:!0},for:{render:function(e){var t,n=!arguments.length,r=this.tagCtx,i="",a=0;return this.rendering.done||(void 0!==(t=n?r.view.data:e)&&(i+=r.render(t,n),a+=y(t)?t.length:1),(this.rendering.done=a)&&(this.selected=r.index)),i},flow:!0},props:{baseTag:"for",dataMap:ie(function(e){var t,n,r=[];if(typeof e===_)for(t in e)(n=e[t])&&n.toJSON&&!n.toJSON()||d(n)||r.push({key:t,prop:n});return r}),flow:!0},include:{flow:!0},"*":{render:Z,flow:!0},":*":{render:Z,flow:!0},dbg:s.dbg=E.dbg=function(e){try{throw"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),E({html:be,attr:be,url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}}),Y()}return R&&T.views.sub._jq(l),l||T});